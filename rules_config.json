{
  "config_version": "Simple_Candlestick_v1.0",
  "last_updated": "2024-08-25T00:00:00Z",
  "description": "Configuration for Simple Candlestick + Volume Trading System",
  
  "trading": {
    "symbol": "XAUUSD",
    "base_lot_size": 0.01,
    "min_lot_size": 0.01,
    "max_lot_size": 0.10,
    "max_positions": 30,
    "timeframe": "M5",
    "trading_enabled": true
  },
  
  "candlestick_analysis": {
    "main_timeframe": "M5",
    "backup_timeframes": ["M15", "M1"],
    "min_body_ratio": 0.1,
    "require_price_direction_match": true,
    "candle_strength_enabled": true,
    "pattern_validation": {
      "validate_previous_candle": true,
      "min_price_movement": 0.5,
      "ignore_doji_signals": false
    }
  },
  
  "volume_analysis": {
    "enabled": true,
    "volume_lookback_periods": 20,
    "fallback_when_unavailable": true,
    "fallback_factor": 1.0,
    "volume_smoothing": false,
    "broker_compatibility": {
      "check_volume_availability": true,
      "auto_disable_on_zero_volume": true,
      "alternative_strength_indicators": ["body_ratio", "price_movement"]
    }
  },
  
  "dynamic_lot_sizing": {
    "enabled": true,
    "base_calculation": "fixed_base",
    "volume_factor_range": [0.5, 2.0],
    "candle_factor_range": [0.3, 1.5],
    "total_multiplier_limits": {
      "maximum": 3.0,
      "minimum": 0.3,
      "safety_buffer": 0.85
    },
    "risk_controls": {
      "max_risk_per_trade": 2.0,
      "margin_safety_minimum": 200.0,
      "account_equity_minimum": 1000.0
    }
  },
  
  "signal_generation": {
    "target_frequency": 50,
    "cycle_speed_seconds": 3,
    "minimum_signal_strength": 0.3,
    "cooldown_between_signals": 60,
    "hourly_limits": {
      "max_signals_per_hour": 20,
      "reset_hour_counter": true
    }
  },
  
  "market_timing": {
    "session_aware": true,
    "preferred_sessions": ["LONDON", "NEW_YORK", "OVERLAP"],
    "quiet_session_reduction": 0.4,
    "weekend_trading": false,
    "holiday_awareness": false
  },
  
  "risk_management": {
    "max_risk_percentage": 2.0,
    "max_daily_risk": 8.0,
    "emergency_stop_loss": 15.0,
    "margin_usage_limit": 0.75,
    "position_limits": {
      "max_total_positions": 50,
      "max_buy_positions": 25,
      "max_sell_positions": 25
    },
    "safety_protocols": {
      "margin_call_protection": true,
      "emergency_close_enabled": true,
      "auto_risk_reduction": true
    }
  },
  
  "integration_compatibility": {
    "maintain_hg_recovery": true,
    "spacing_manager_enabled": true,
    "position_manager_enabled": true,
    "performance_tracker_enabled": true,
    "existing_gui_support": true,
    "4d_interface_compatibility": true
  },
  
  "order_execution": {
    "preferred_order_type": "MARKET",
    "max_slippage_points": 25,
    "retry_attempts": 3,
    "execution_timeout": 8.0,
    "fallback_to_limit": false
  },
  
  "spacing_management": {
    "enabled": true,
    "min_spacing_points": 60,
    "max_spacing_points": 400,
    "dynamic_spacing": true,
    "collision_avoidance": true,
    "intelligent_distribution": true
  },
  
  "performance_monitoring": {
    "auto_save_enabled": true,
    "save_interval_seconds": 300,
    "performance_file": "candlestick_performance.json",
    "statistics_tracking": {
      "signal_frequency": true,
      "lot_size_distribution": true,
      "volume_factor_effectiveness": true,
      "success_rate_by_signal_type": true,
      "profitability_by_timeframe": true
    }
  },
  
  "logging": {
    "enabled": true,
    "log_level": "INFO",
    "log_file": "candlestick_trading.log",
    "console_output": true,
    "components_logging": {
      "market_analyzer": true,
      "rule_engine": true,
      "lot_calculator": true,
      "order_manager": true,
      "position_manager": true
    }
  },
  
  "gui_settings": {
    "update_interval_ms": 1000,
    "display_candlestick_info": true,
    "display_volume_data": true,
    "display_dynamic_lot_info": true,
    "show_signal_statistics": true,
    "colors": {
      "buy_signal": "#00ff88",
      "sell_signal": "#ff4444",
      "no_signal": "#888888",
      "high_volume": "#ffaa00",
      "strong_candle": "#00aaff"
    }
  },
  
  "fallback_systems": {
    "no_mt5_connection": {
      "enable_simulation_mode": false,
      "use_demo_data": false
    },
    "no_volume_data": {
      "use_price_movement_proxy": true,
      "default_volume_factor": 1.0,
      "alternative_strength_calculation": true
    },
    "analysis_failure": {
      "safe_defaults": {
        "candle_strength": 0.5,
        "volume_factor": 1.0,
        "signal_strength": 0.3
      }
    }
  }
}